<?php
/**
 * THIS IS AN AUTOGENERATED FILE
 * DO NOT MODIFY
 * @codingStandardsIgnoreFile
 */


namespace Ls\Replication\Cron;

use Ls\Replication\Logger\Logger;
use Magento\Framework\App\Config\ScopeConfigInterface;
use Magento\Config\Model\ResourceModel\Config;
use Ls\Core\Model\Data as LsHelper;
use Ls\Replication\Helper\ReplicationHelper;
use Ls\Omni\Client\Ecommerce\Entity\ReplRequest;
use Ls\Omni\Client\Ecommerce\Operation\LSCWIItemModifier;
use Ls\Replication\Api\ReplLscWiItemModifierRepositoryInterface as ReplLscWiItemModifierRepository;
use Ls\Replication\Model\ReplLscWiItemModifierFactory;
use Ls\Replication\Api\Data\ReplLscWiItemModifierInterface;

class ReplLscWiItemModifierTask extends AbstractReplicationTask
{
    public const JOB_CODE = 'replication_repl_lsc_wi_item_modifier';

    public const CONFIG_PATH = 'ls_mag/replication/repl_lsc_wi_item_modifier';

    public const CONFIG_PATH_STATUS = 'ls_mag/replication/status_repl_lsc_wi_item_modifier';

    public const CONFIG_PATH_LAST_EXECUTE = 'ls_mag/replication/last_execute_repl_lsc_wi_item_modifier';

    public const CONFIG_PATH_MAX_KEY = 'ls_mag/replication/max_key_repl_lsc_wi_item_modifier';

    public const CONFIG_PATH_APP_ID = 'ls_mag/replication/app_id_repl_lsc_wi_item_modifier';

    /**
     * @property ReplLscWiItemModifierRepository $repository
     */
    protected $repository = null;

    /**
     * @property ReplLscWiItemModifierFactory $factory
     */
    protected $factory = null;

    /**
     * @property ReplLscWiItemModifierInterface $dataInterface
     */
    protected $dataInterface = null;

    public function setRepository(ReplLscWiItemModifierRepository $repository)
    {
        $this->repository =  $repository;
        return $this;
    }

    public function getRepository() : ReplLscWiItemModifierRepository
    {
        return $this->repository;
    }

    public function setFactory(ReplLscWiItemModifierFactory $factory)
    {
        $this->factory =  $factory;
        return $this;
    }

    public function getFactory() : ReplLscWiItemModifierFactory
    {
        return $this->factory;
    }

    public function setDataInterface(ReplLscWiItemModifierInterface $dataInterface)
    {
        $this->dataInterface =  $dataInterface;
        return $this;
    }

    public function getDataInterface() : ReplLscWiItemModifierInterface
    {
        return $this->dataInterface;
    }

    public function __construct(\Magento\Framework\App\Config\ScopeConfigInterface $scopeConfig, \Magento\Config\Model\ResourceModel\Config $resourceConfig, \Ls\Replication\Logger\Logger $logger, LsHelper $helper, \Ls\Replication\Helper\ReplicationHelper $repHelper, ReplLscWiItemModifierFactory $factory, ReplLscWiItemModifierRepository $repository, ReplLscWiItemModifierInterface $dataInterface)
    {
        parent::__construct($scopeConfig, $resourceConfig, $logger, $helper, $repHelper);
        $this->repository = $repository;
        $this->factory = $factory;
        $this->dataInterface = $dataInterface;
    }

    public function makeRequest(string $baseUrl = '', array $connectionParams = [], string $companyName = '', bool $fullRepl = false, int $batchSize = 100, string $storeNo = '', int $lastEntryNo = 0, string $lastKey = '')
    {
        $request = new \Ls\Omni\Client\Ecommerce\Operation\LSCWIItemModifier($baseUrl, $connectionParams, $companyName);
        $request->setOperationInput([
        'storeNo' => $storeNo,
        'batchSize' => $batchSize,
        'fullRepl' => $fullRepl,
        'lastEntryNo' => $lastEntryNo,
        'lastKey' => $lastKey
        ]);
        return $request;
    }

    public function getConfigPath()
    {
        return self::CONFIG_PATH;
    }

    public function getConfigPathStatus()
    {
        return self::CONFIG_PATH_STATUS;
    }

    public function getConfigPathLastExecute()
    {
        return self::CONFIG_PATH_LAST_EXECUTE;
    }

    public function getConfigPathMaxKey()
    {
        return self::CONFIG_PATH_MAX_KEY;
    }

    public function getConfigPathAppId()
    {
        return self::CONFIG_PATH_APP_ID;
    }

    public function getMainEntity()
    {
        return $this->dataInterface;
    }
}

